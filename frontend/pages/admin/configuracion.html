<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuración del Sistema - Sistema Paints</title>
    <link rel="stylesheet" href="/frontend/assets/css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a href="/frontend/pages/admin/dashboard.html" class="logo">
                <span class="logo-icon">
                    <i class="fas fa-paint-brush"></i>
                </span>
                Sistema Paints
            </a>
            <div class="user-menu">
                <div class="user-info">
                    <span class="user-avatar" id="userAvatar">A</span>
                    <div>
                        <div style="font-weight: 500;" id="userName">Admin</div>
                        <div style="font-size: 0.875rem; color: var(--gray-500);" id="userRole">Administrador</div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Layout -->
    <div class="main-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2 class="sidebar-title">Administración</h2>
                <p class="sidebar-subtitle">Configuración</p>
            </div>
            
            <nav>
                <ul class="sidebar-nav">
                    <li><a href="/frontend/pages/admin/dashboard.html">
                        <i class="fas fa-home"></i>
                        Dashboard
                    </a></li>
                    <li><a href="/frontend/pages/admin/usuarios.html">
                        <i class="fas fa-users"></i>
                        Usuarios
                    </a></li>
                    <li><a href="/frontend/pages/admin/sucursales.html">
                        <i class="fas fa-store"></i>
                        Sucursales
                    </a></li>
                    <li><a href="/frontend/pages/admin/configuracion.html" class="active">
                        <i class="fas fa-cog"></i>
                        Configuración
                    </a></li>
                    <li><a href="/frontend/pages/admin/backup.html">
                        <i class="fas fa-database"></i>
                        Backup
                    </a></li>
                    <li><a href="/frontend/pages/admin/auditoria.html">
                        <i class="fas fa-clipboard-check"></i>
                        Auditoría
                    </a></li>
                </ul>
            </nav>

            <button class="logout-btn" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i>
                Cerrar Sesión
            </button>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Page Header -->
            <div style="margin-bottom: 2rem;">
                <h1>
                    <i class="fas fa-cog"></i>
                    Configuración del Sistema
                </h1>
                <p style="color: var(--gray-600);">Administra las configuraciones generales del sistema</p>
            </div>

            <!-- Action Buttons -->
            <div style="display: flex; gap: 1rem; margin-bottom: 2rem;">
                <button class="btn btn-success" onclick="guardarConfiguraciones()">
                    <i class="fas fa-save"></i>
                    Guardar Todas las Configuraciones
                </button>
                <button class="btn btn-secondary" onclick="restaurarDefecto()">
                    <i class="fas fa-undo"></i>
                    Restaurar Valores por Defecto
                </button>
                <button class="btn btn-info" onclick="exportarConfiguracion()">
                    <i class="fas fa-download"></i>
                    Exportar Configuración
                </button>
            </div>

            <!-- Tabs de Configuración -->
            <div style="margin-bottom: 2rem;">
                <div class="tabs-header">
                    <button class="tab-btn active" onclick="mostrarTab('general')">
                        <i class="fas fa-cog"></i>
                        General
                    </button>
                    <button class="tab-btn" onclick="mostrarTab('empresa')">
                        <i class="fas fa-building"></i>
                        Empresa
                    </button>
                    <button class="tab-btn" onclick="mostrarTab('sistema')">
                        <i class="fas fa-server"></i>
                        Sistema
                    </button>
                    <button class="tab-btn" onclick="mostrarTab('notificaciones')">
                        <i class="fas fa-bell"></i>
                        Notificaciones
                    </button>
                    <button class="tab-btn" onclick="mostrarTab('seguridad')">
                        <i class="fas fa-shield-alt"></i>
                        Seguridad
                    </button>
                </div>
            </div>

            <!-- Tab: General -->
            <div id="tab-general" class="tab-content active">
                <div class="card">
                    <div class="card-header">
                        <h3>
                            <i class="fas fa-cog"></i>
                            Configuraciones Generales
                        </h3>
                    </div>
                    <div class="card-content">
                        <form id="formGeneral">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                                <div>
                                    <h4 style="margin-bottom: 1rem; color: var(--gray-700);">Configuración Básica</h4>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Nombre del Sistema</label>
                                        <input type="text" class="form-input" id="nombreSistema" value="Sistema Paints" required>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Versión del Sistema</label>
                                        <input type="text" class="form-input" id="versionSistema" value="1.0.0" readonly>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Moneda Principal</label>
                                        <select class="form-select" id="monedaPrincipal">
                                            <option value="GTQ" selected>Quetzal Guatemalteco (Q)</option>
                                            <option value="USD">Dólar Estadounidense ($)</option>
                                            <option value="EUR">Euro (€)</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Zona Horaria</label>
                                        <select class="form-select" id="zonaHoraria">
                                            <option value="America/Guatemala" selected>Guatemala (GMT-6)</option>
                                            <option value="America/Mexico_City">México (GMT-6)</option>
                                            <option value="America/New_York">Nueva York (GMT-5)</option>
                                        </select>
                                    </div>
                                </div>

                                <div>
                                    <h4 style="margin-bottom: 1rem; color: var(--gray-700);">Configuración Regional</h4>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Idioma del Sistema</label>
                                        <select class="form-select" id="idiomaSistema">
                                            <option value="es" selected>Español</option>
                                            <option value="en">Inglés</option>
                                            <option value="fr">Francés</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Formato de Fecha</label>
                                        <select class="form-select" id="formatoFecha">
                                            <option value="DD/MM/YYYY" selected>DD/MM/YYYY</option>
                                            <option value="MM/DD/YYYY">MM/DD/YYYY</option>
                                            <option value="YYYY-MM-DD">YYYY-MM-DD</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Formato de Hora</label>
                                        <select class="form-select" id="formatoHora">
                                            <option value="24h" selected>24 Horas (14:30)</option>
                                            <option value="12h">12 Horas (2:30 PM)</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Decimales en Precios</label>
                                        <select class="form-select" id="decimalesPrecios">
                                            <option value="2" selected>2 decimales (Q 10.50)</option>
                                            <option value="0">Sin decimales (Q 10)</option>
                                            <option value="3">3 decimales (Q 10.500)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Tab: Empresa -->
            <div id="tab-empresa" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <h3>
                            <i class="fas fa-building"></i>
                            Información de la Empresa
                        </h3>
                    </div>
                    <div class="card-content">
                        <form id="formEmpresa">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                                <div>
                                    <h4 style="margin-bottom: 1rem; color: var(--gray-700);">Datos Básicos</h4>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Razón Social</label>
                                        <input type="text" class="form-input" id="razonSocial" value="Paints Guatemala S.A." required>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Nombre Comercial</label>
                                        <input type="text" class="form-input" id="nombreComercial" value="Sistema Paints" required>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">NIT/RFC</label>
                                        <input type="text" class="form-input" id="nitEmpresa" value="12345678-9" required>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Tipo de Empresa</label>
                                        <select class="form-select" id="tipoEmpresa">
                                            <option value="sociedad_anonima" selected>Sociedad Anónima</option>
                                            <option value="responsabilidad_limitada">Responsabilidad Limitada</option>
                                            <option value="individual">Individual</option>
                                        </select>
                                    </div>
                                </div>

                                <div>
                                    <h4 style="margin-bottom: 1rem; color: var(--gray-700);">Datos de Contacto</h4>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Dirección Principal</label>
                                        <textarea class="form-input" id="direccionEmpresa" rows="3" required>Ciudad de Guatemala, Guatemala</textarea>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Teléfono Principal</label>
                                        <input type="tel" class="form-input" id="telefonoEmpresa" value="+502 2385-7400" required>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Email Corporativo</label>
                                        <input type="email" class="form-input" id="emailEmpresa" value="contacto@sistemapaints.com" required>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Sitio Web</label>
                                        <input type="url" class="form-input" id="sitioWebEmpresa" value="https://www.sistemapaints.com">
                                    </div>
                                </div>
                            </div>

                            <div style="margin-top: 2rem;">
                                <h4 style="margin-bottom: 1rem; color: var(--gray-700);">Logo y Branding</h4>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                                    <div class="form-group">
                                        <label class="form-label">Logo de la Empresa</label>
                                        <input type="file" class="form-input" id="logoEmpresa" accept="image/*">
                                        <small class="text-muted">Formatos soportados: JPG, PNG, SVG. Tamaño máximo: 2MB</small>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Color Principal</label>
                                        <input type="color" class="form-input" id="colorPrincipal" value="#2563eb">
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Tab: Sistema -->
            <div id="tab-sistema" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <h3>
                            <i class="fas fa-server"></i>
                            Configuraciones del Sistema
                        </h3>
                    </div>
                    <div class="card-content">
                        <form id="formSistema">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                                <div>
                                    <h4 style="margin-bottom: 1rem; color: var(--gray-700);">Rendimiento</h4>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Registros por Página</label>
                                        <select class="form-select" id="registrosPagina">
                                            <option value="10">10 registros</option>
                                            <option value="25" selected>25 registros</option>
                                            <option value="50">50 registros</option>
                                            <option value="100">100 registros</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Tiempo de Sesión (minutos)</label>
                                        <input type="number" class="form-input" id="tiempoSesion" value="120" min="15" max="480">
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Cache del Sistema</label>
                                        <select class="form-select" id="cacheSistema">
                                            <option value="enabled" selected>Habilitado</option>
                                            <option value="disabled">Deshabilitado</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox" id="modoMantenimiento">
                                            <label for="modoMantenimiento">Modo Mantenimiento</label>
                                        </div>
                                        <small class="text-muted">Bloquea el acceso al sistema para mantenimiento</small>
                                    </div>
                                </div>

                                <div>
                                    <h4 style="margin-bottom: 1rem; color: var(--gray-700);">Base de Datos</h4>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Backup Automático</label>
                                        <select class="form-select" id="backupAutomatico">
                                            <option value="daily" selected>Diario</option>
                                            <option value="weekly">Semanal</option>
                                            <option value="monthly">Mensual</option>
                                            <option value="disabled">Deshabilitado</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Retención de Logs (días)</label>
                                        <input type="number" class="form-input" id="retencionLogs" value="30" min="7" max="365">
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Nivel de Log</label>
                                        <select class="form-select" id="nivelLog">
                                            <option value="error">Solo Errores</option>
                                            <option value="warning">Advertencias y Errores</option>
                                            <option value="info" selected>Información General</option>
                                            <option value="debug">Debug (Desarrollo)</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox" id="auditoriaBD" checked>
                                            <label for="auditoriaBD">Auditoría de Base de Datos</label>
                                        </div>
                                        <small class="text-muted">Registra todos los cambios en la base de datos</small>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Tab: Notificaciones -->
            <div id="tab-notificaciones" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <h3>
                            <i class="fas fa-bell"></i>
                            Configuración de Notificaciones
                        </h3>
                    </div>
                    <div class="card-content">
                        <form id="formNotificaciones">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                                <div>
                                    <h4 style="margin-bottom: 1rem; color: var(--gray-700);">Email</h4>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Servidor SMTP</label>
                                        <input type="text" class="form-input" id="servidorSMTP" value="smtp.gmail.com">
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Puerto SMTP</label>
                                        <input type="number" class="form-input" id="puertoSMTP" value="587">
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Usuario SMTP</label>
                                        <input type="email" class="form-input" id="usuarioSMTP" value="sistema@sistemapaints.com">
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Contraseña SMTP</label>
                                        <input type="password" class="form-input" id="passwordSMTP" placeholder="••••••••">
                                    </div>

                                    <div class="form-group">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox" id="emailSSL" checked>
                                            <label for="emailSSL">Usar SSL/TLS</label>
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <h4 style="margin-bottom: 1rem; color: var(--gray-700);">Tipos de Notificación</h4>
                                    
                                    <div class="form-group">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox" id="notifVentas" checked>
                                            <label for="notifVentas">Notificaciones de Ventas</label>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox" id="notifInventario" checked>
                                            <label for="notifInventario">Alertas de Inventario Bajo</label>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox" id="notifUsuarios" checked>
                                            <label for="notifUsuarios">Actividad de Usuarios</label>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox" id="notifSistema" checked>
                                            <label for="notifSistema">Notificaciones del Sistema</label>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox" id="notifPromociones">
                                            <label for="notifPromociones">Promociones a Clientes</label>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <button type="button" class="btn btn-info" onclick="probarEmail()">
                                            <i class="fas fa-paper-plane"></i>
                                            Probar Configuración Email
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Tab: Seguridad -->
            <div id="tab-seguridad" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <h3>
                            <i class="fas fa-shield-alt"></i>
                            Configuración de Seguridad
                        </h3>
                    </div>
                    <div class="card-content">
                        <form id="formSeguridad">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                                <div>
                                    <h4 style="margin-bottom: 1rem; color: var(--gray-700);">Políticas de Contraseña</h4>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Longitud Mínima</label>
                                        <input type="number" class="form-input" id="longitudMinima" value="8" min="6" max="20">
                                    </div>

                                    <div class="form-group">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox" id="requiereMayusculas" checked>
                                            <label for="requiereMayusculas">Requiere Mayúsculas</label>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox" id="requiereNumeros" checked>
                                            <label for="requiereNumeros">Requiere Números</label>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox" id="requiereEspeciales">
                                            <label for="requiereEspeciales">Requiere Caracteres Especiales</label>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Expiración de Contraseña (días)</label>
                                        <select class="form-select" id="expiracionPassword">
                                            <option value="0" selected>Nunca</option>
                                            <option value="30">30 días</option>
                                            <option value="60">60 días</option>
                                            <option value="90">90 días</option>
                                        </select>
                                    </div>
                                </div>

                                <div>
                                    <h4 style="margin-bottom: 1rem; color: var(--gray-700);">Control de Acceso</h4>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Intentos Máximos de Login</label>
                                        <input type="number" class="form-input" id="intentosMaximos" value="5" min="3" max="10">
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Tiempo de Bloqueo (minutos)</label>
                                        <input type="number" class="form-input" id="tiempoBloqueo" value="15" min="5" max="60">
                                    </div>

                                    <div class="form-group">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox" id="dobleAutenticacion">
                                            <label for="dobleAutenticacion">Autenticación de Dos Factores</label>
                                        </div>
                                        <small class="text-muted">Requiere validación por SMS o email</small>
                                    </div>

                                    <div class="form-group">
                                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                                            <input type="checkbox" id="loginSinUsuario">
                                            <label for="loginSinUsuario">Permitir Login sin Usuario Administrador</label>
                                        </div>
                                        <small class="text-muted">Solo para emergencias</small>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Nivel de Encriptación</label>
                                        <select class="form-select" id="nivelEncriptacion">
                                            <option value="aes128">AES-128</option>
                                            <option value="aes256" selected>AES-256</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Footer -->
    <footer style="background: var(--gray-800); color: var(--gray-300); padding: 2rem 0; text-align: center;">
        <div style="max-width: 1200px; margin: 0 auto; padding: 0 2rem;">
            <p>&copy; 2025 Sistema Paints - Universidad UMES. Proyecto Académico</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="/frontend/assets/js/pages/configuracion.js"></script>

    <!-- Estilos adicionales -->
    <style>
        .tabs-header {
            display: flex;
            border-bottom: 2px solid var(--gray-200);
            margin-bottom: 2rem;
        }

        .tab-btn {
            background: none;
            border: none;
            padding: 1rem 1.5rem;
            cursor: pointer;
            font-weight: 500;
            color: var(--gray-600);
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .tab-btn:hover {
            color: var(--primary-blue);
            background: var(--primary-50);
        }

        .tab-btn.active {
            color: var(--primary-blue);
            border-bottom-color: var(--primary-blue);
            background: var(--primary-50);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--gray-700);
        }

        .text-muted {
            color: var(--gray-500);
            font-size: 0.875rem;
        }

        input[type="color"] {
            width: 60px;
            height: 40px;
            padding: 0;
            border: 1px solid var(--gray-300);
            border-radius: 8px;
            cursor: pointer;
        }
    </style>
</body>
</html>